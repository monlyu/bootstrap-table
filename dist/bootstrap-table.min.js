!function(f){var g=function(n){var l=arguments,k=true,m=1;n=n.replace(/%s/g,function(){var o=l[m++];if(typeof o==="undefined"){k=false;return""}return o});if(k){return n}return""};var b=function(m,o,n,l){var k="";f.each(m,function(p,q){if(q[o]===l){k=q[n];return false}return true});return k};var e=function(l,m){var k=-1;f.each(l,function(n,o){if(o.field===m){k=n;return false}return true});return k};var a=function(){var m=f("<p/>").addClass("fixed-table-scroll-inner"),n=f("<div/>").addClass("fixed-table-scroll-outer"),l,k;n.append(m);f("body").append(n);l=m[0].offsetWidth;n.css("overflow","scroll");k=m[0].offsetWidth;if(l==k){k=n[0].clientWidth}n.remove();return l-k};var d=function(m,o,k){try{if(typeof o==="string"){var p=o.split(".");var l=m;f.each(p,function(q,r){l=l[r]});return l}}catch(n){}return k};var j=function(l,n,m,k){if(typeof n==="string"){var o=n.split(".");if(o.length>1){n=window;f.each(o,function(p,q){n=n[q]})}else{n=window[n]}}if(typeof n==="object"){return n}if(typeof n==="function"){return n.apply(l,m)}return k};var i=function(k){if(typeof k=="string"){return k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}return k};var c=function(l,k){this.options=k;this.$el=f(l);this.$el_=this.$el.clone();this.timeoutId_=0;this.init()};c.DEFAULTS={classes:"table table-hover",height:undefined,undefinedText:"-",sortName:undefined,sortOrder:"asc",striped:false,columns:[],data:[],method:"get",url:undefined,cache:true,contentType:"application/json",dataType:"json",queryParams:function(k){return k},queryParamsType:"limit",responseHandler:function(k){return k},pagination:false,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],search:false,searchAlign:"right",selectItemName:"btSelectItem",showHeader:true,showColumns:false,showRefresh:false,showToggle:false,smartDisplay:true,minimumCountColumns:1,idField:undefined,cardView:false,clickToSelect:false,singleSelect:false,toolbar:undefined,toolbarAlign:"right",checkboxHeader:true,sortable:true,maintainSelected:false,searchTimeOut:500,iconsPrefix:"glyphicon",icons:{refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th"},pageItems:"data",pageRowCount:"data.length",pageExtra:function(k){return false},rowStyle:function(l,k){return{}},rowAttributes:function(l,k){return{}},onAll:function(l,k){return false},onClickRow:function(l,k){return false},onDblClickRow:function(l,k){return false},onSort:function(l,k){return false},onCheck:function(k){return false},onUncheck:function(k){return false},onCheckAll:function(){return false},onUncheckAll:function(){return false},onLoadSuccess:function(k){return false},onLoadError:function(k){return false},onColumnSwitch:function(l,k){return false},onPageChange:function(l,k){return false},onSearch:function(k){return false},onPreBody:function(k){return false},onPostBody:function(){return false}};c.LOCALES=[];c.LOCALES["zh-CN"]={formatLoadingMessage:function(){return"加载中请稍后.."},formatRecordsPerPage:function(k){return g("%s 条",k)},formatShowingRows:function(m,k,l){return g(" 显示第 %s 到 %s ,共 %s 条记录，每页显示",m,k,l)},formatSearch:function(){return"关键字搜索"},formatNoMatches:function(){return"没有找到任何匹配的数据"},formatRefresh:function(){return"刷新"},formatToggle:function(){return"切换显示"},formatColumns:function(){return"列"}};f.extend(c.DEFAULTS,c.LOCALES["zh-CN"]);c.COLUMN_DEFAULTS={radio:false,checkbox:false,checkboxEnabled:true,field:undefined,title:undefined,"class":undefined,align:undefined,halign:undefined,valign:undefined,width:undefined,sortable:false,order:"asc",visible:true,switchable:true,clickToSelect:true,formatter:undefined,events:undefined,sorter:undefined,cellStyle:undefined,searchable:true};c.EVENTS={"all.bs.table":"onAll","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody"};c.prototype.init=function(){this.initContainer();this.initTable();this.initHeader();this.initData();this.initToolbar();this.initPagination();this.initBody();this.initServer()};c.prototype.initContainer=function(){this.$container=f(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>','<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-pagination"></div>',"</div>","</div>"].join(""));this.$container.insertAfter(this.$el);this.$container.find(".fixed-table-body").append(this.$el);this.$container.after('<div class="clearfix"></div>');this.$loading=this.$container.find(".fixed-table-loading");this.$el.addClass(this.options.classes);if(this.options.striped){this.$el.addClass("table-striped")}};c.prototype.initTable=function(){var l=this,k=[],m=[];this.$header=this.$el.find("thead");if(!this.$header.length){this.$header=f("<thead></thead>").appendTo(this.$el)}if(!this.$header.find("tr").length){this.$header.append("<tr></tr>")}this.$header.find("th").each(function(){var n=f.extend({},{title:f(this).html(),"class":f(this).attr("class")},f(this).data());k.push(n)});this.options.columns=f.extend([],k,this.options.columns);f.each(this.options.columns,function(n,o){l.options.columns[n]=f.extend({},c.COLUMN_DEFAULTS,{field:n},o)});if(this.options.data.length){return}this.$el.find("tbody tr").each(function(){var n={};n._id=f(this).attr("id");n._class=f(this).attr("class");f(this).find("td").each(function(o){var p=l.options.columns[o].field;n[p]=f(this).html();n["_"+p+"_id"]=f(this).attr("id");n["_"+p+"_class"]=f(this).attr("class")});m.push(n)});this.options.data=m};c.prototype.initHeader=function(){var m=this,k=[],l=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],cellStyles:[],clickToSelects:[],searchables:[]};f.each(this.options.columns,function(q,p){var v="",r="",t="",n="",s=g(' class="%s"',p["class"]),o=m.options.sortOrder||p.order,u=true;if(!p.visible){return}r=g("text-align: %s; ",p.halign?p.halign:p.align);t=g("text-align: %s; ",p.align);n=g("vertical-align: %s; ",p.valign);n+=g("width: %spx; ",p.checkbox||p.radio?36:p.width);k.push(p);m.header.fields.push(p.field);m.header.styles.push(t+n);m.header.classes.push(s);m.header.formatters.push(p.formatter);m.header.events.push(p.events);m.header.sorters.push(p.sorter);m.header.cellStyles.push(p.cellStyle);m.header.clickToSelects.push(p.clickToSelect);m.header.searchables.push(p.searchable);l.push("<th",p.checkbox||p.radio?g(' class="bs-checkbox %s"',p["class"]||""):s,g(' style="%s"',r+n),">");l.push(g('<div class="th-inner %s">',m.options.sortable&&p.sortable?"sortable":""));v=p.title;if(m.options.sortName===p.field&&m.options.sortable&&p.sortable){v+=m.getCaretHtml()}if(p.checkbox){if(!m.options.singleSelect&&m.options.checkboxHeader){v='<input name="btSelectAll" type="checkbox" />'}m.header.stateField=p.field}if(p.radio){v="";m.header.stateField=p.field;m.options.singleSelect=true}l.push(v);l.push("</div>");l.push('<div class="fht-cell"></div>');l.push("</th>")});this.$header.find("tr").html(l.join(""));this.$header.find("th").each(function(n){f(this).data(k[n])});this.$container.off("click","th").on("click","th",function(n){if(m.options.sortable&&f(this).data().sortable){m.onSort(n)}});if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$container.find(".fixed-table-header").hide();this.$loading.css("top",0)}else{this.$header.show();this.$container.find(".fixed-table-header").show();this.$loading.css("top","37px")}this.$selectAll=this.$header.find('[name="btSelectAll"]');this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var n=f(this).prop("checked");m[n?"checkAll":"uncheckAll"]()})};c.prototype.initData=function(l,k){if(k){this.data=this.data.concat(l)}else{this.data=l||this.options.data}this.options.data=this.data;if(this.options.sidePagination==="server"){return}this.initSort()};c.prototype.initSort=function(){var n=this,m=this.options.sortName,k=this.options.sortOrder==="desc"?-1:1,l=f.inArray(this.options.sortName,this.header.fields);if(l!==-1){this.data.sort(function(p,o){var r=p[m],s=o[m],q=j(n.header,n.header.sorters[l],[r,s]);if(q!==undefined){return k*q}if(f.isNumeric(r)){r=parseFloat(r)}if(f.isNumeric(s)){s=parseFloat(s)}if(r===undefined||r===null){r=""}if(r===undefined||s===null){s=""}if(r===s){return 0}if(r<s){return k*-1}return k})}};c.prototype.onSort=function(k){var m=f(k.currentTarget),l=this.$header.find("th").eq(m.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===m.data("field")){this.options.sortOrder=this.options.sortOrder==="asc"?"desc":"asc"}else{this.options.sortName=m.data("field");this.options.sortOrder=m.data("order")==="asc"?"desc":"asc"}this.trigger("sort",this.options.sortName,this.options.sortOrder);m.add(l).data("order",this.options.sortOrder).find(".th-inner").append(this.getCaretHtml());if(this.options.sidePagination==="server"){this.initServer();return}this.initSort();this.initBody()};c.prototype.initToolbar=function(){var n=this,m=[],p=0,l,o,k=0;this.$toolbar=this.$container.find(".fixed-table-toolbar").html("");if(typeof this.options.toolbar==="string"){f('<div class="bars pull-left"></div>').appendTo(this.$toolbar).append(f(this.options.toolbar))}m=['<div class="columns columns-'+this.options.toolbarAlign+" btn-group pull-"+this.options.toolbarAlign+'">'];if(typeof this.options.icons==="string"){this.options.icons=j(null,this.options.icons)}if(this.options.showRefresh){m.push(g('<button class="btn btn-default" type="button" name="refresh" title="%s">',this.options.formatRefresh()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>")}if(this.options.showToggle){m.push(g('<button class="btn btn-default" type="button" name="toggle" title="%s">',this.options.formatToggle()),g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>")}if(this.options.showColumns){m.push(g('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default dropdown-toggle " data-toggle="dropdown">',g('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">');f.each(this.options.columns,function(q,r){if(r.radio||r.checkbox){return}var s=r.visible?' checked="checked"':"";if(r.switchable){m.push(g('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',r.field,q,s,r.title));k++}});m.push("</ul>","</div>")}m.push("</div>");if(m.length>2){this.$toolbar.append(m.join(""))}if(this.options.showRefresh){this.$toolbar.find('button[name="refresh"]').off("click").on("click",f.proxy(this.refresh,this))}if(this.options.showToggle){this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){n.options.cardView=!n.options.cardView;n.initHeader();n.initBody()})}if(this.options.showColumns){l=this.$toolbar.find(".keep-open");if(k<=this.options.minimumCountColumns){l.find("input").prop("disabled",true)}l.find("li").off("click").on("click",function(q){q.stopImmediatePropagation()});l.find("input").off("click").on("click",function(){var q=f(this);n.toggleColumn(q.val(),q.prop("checked"),false);n.trigger("column-switch",f(this).data("field"),q.prop("checked"))})}if(this.options.search){m=[];m.push('<div class="pull-'+this.options.searchAlign+' search">',g('<input class="form-control" type="text" placeholder="%s">',this.options.formatSearch()),"</div>");this.$toolbar.append(m.join(""));o=this.$toolbar.find(".search input");o.off("keyup").on("keyup",function(q){clearTimeout(p);p=setTimeout(function(){n.onSearch(q)},n.options.searchTimeOut)})}};c.prototype.onSearch=function(k){var l=f.trim(f(k.currentTarget).val());f(k.currentTarget).val(l);if(l===this.searchText){return}this.searchText=l;this.options.pageNumber=1;this.initSearch();this.updatePagination();this.trigger("search",l)};c.prototype.initSearch=function(){var l=this;if(this.options.sidePagination!=="server"){var k=this.searchText&&this.searchText.toLowerCase();var m=f.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=m?f.grep(this.options.data,function(p,o){for(var n in m){if(p[n]!==m[n]){return false}}return true}):this.options.data;this.data=k?f.grep(this.data,function(q,p){for(var o in q){o=f.isNumeric(o)?parseInt(o,10):o;var r=q[o];r=j(l.header,l.header.formatters[f.inArray(o,l.header.fields)],[r,q,p],r);var n=f.inArray(o,l.header.fields);if(n!==-1&&l.header.searchables[n]&&(typeof r==="string"||typeof r==="number")&&(r+"").toLowerCase().indexOf(k)!==-1){return true}}return false}):this.data}};c.prototype.initPagination=function(){this.$pagination=this.$container.find(".fixed-table-pagination");if(!this.options.pagination){return}var q=this,p=[],o,u,v,y,n,x,l,s,w,m=this.getData();if(this.options.sidePagination!=="server"){this.options.totalRows=m.length}this.totalPages=0;if(this.options.totalRows){this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1}if(this.totalPages>0&&this.options.pageNumber>this.totalPages){this.options.pageNumber=this.totalPages}this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1;this.pageTo=this.options.pageNumber*this.options.pageSize;if(this.pageTo>this.options.totalRows){this.pageTo=this.options.totalRows}p.push('<div class="pull-left pagination-detail">','<span class="pagination-info">',this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>");p.push('<span class="page-list">');var t=['<span class="btn-group dropup">','<button type="button" class="btn btn-sm btn-default dropdown-toggle btn-xs" data-toggle="dropdown">','<span class="page-size">',this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],k=this.options.pageList;if(typeof this.options.pageList==="string"){var r=this.options.pageList.slice(1,-1).replace(/ /g,"").split(",");k=[];f.each(r,function(z,A){k.push(+A)})}f.each(k,function(z,A){if(!q.options.smartDisplay||q.options.totalRows>=A||z===0){var B=A===q.options.pageSize?' class="active"':"";t.push(g('<li%s><a href="javascript:void(0)">%s</a></li>',B,A))}});t.push("</ul></span>");p.push(this.options.formatRecordsPerPage(t.join("")));p.push("</span>");p.push("</div>",'<div class="pull-right pagination">','<ul class="pagination pagination-sm">','<li class="page-first"><a href="javascript:void(0)">&lt;&lt;</a></li>','<li class="page-pre"><a href="javascript:void(0)">&lt;</a></li>');if(this.totalPages<5){u=1;v=this.totalPages}else{u=this.options.pageNumber-2;v=u+4;if(u<1){u=1;v=5}if(v>this.totalPages){v=this.totalPages;u=v-4}}for(o=u;o<=v;o++){p.push('<li class="page-number'+(o===this.options.pageNumber?" active disabled":"")+'">','<a href="javascript:void(0)">',o,"</a>","</li>")}p.push('<li class="page-next"><a href="javascript:void(0)">&gt;</a></li>','<li class="page-last"><a href="javascript:void(0)">&gt;&gt;</a></li>',"</ul>","</div>");this.$pagination.html(p.join(""));y=this.$pagination.find(".page-list a");n=this.$pagination.find(".page-first");x=this.$pagination.find(".page-pre");l=this.$pagination.find(".page-next");s=this.$pagination.find(".page-last");w=this.$pagination.find(".page-number");if(this.options.pageNumber<=1){n.addClass("disabled");x.addClass("disabled")}if(this.options.pageNumber>=this.totalPages){l.addClass("disabled");s.addClass("disabled")}if(this.options.smartDisplay){if(this.totalPages<=1){this.$pagination.find("div.pagination").hide()}if(this.options.pageList.length<2||this.options.totalRows<=this.options.pageList[1]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}y.off("click").on("click",f.proxy(this.onPageListChange,this));n.off("click").on("click",f.proxy(this.onPageFirst,this));x.off("click").on("click",f.proxy(this.onPagePre,this));l.off("click").on("click",f.proxy(this.onPageNext,this));s.off("click").on("click",f.proxy(this.onPageLast,this));w.off("click").on("click",f.proxy(this.onPageNumber,this))};c.prototype.updatePagination=function(k){if(k&&f(k.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if(this.options.sidePagination==="server"){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageSize,this.options.pageNumber)};c.prototype.onPageListChange=function(k){var l=f(k.currentTarget);l.parent().addClass("active").siblings().removeClass("active");this.options.pageSize=+l.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(k)};c.prototype.onPageFirst=function(k){this.options.pageNumber=1;this.updatePagination(k)};c.prototype.onPagePre=function(k){this.options.pageNumber--;this.updatePagination(k)};c.prototype.onPageNext=function(k){this.options.pageNumber++;this.updatePagination(k)};c.prototype.onPageLast=function(k){this.options.pageNumber=this.totalPages;this.updatePagination(k)};c.prototype.onPageNumber=function(k){if(this.options.pageNumber===+f(k.currentTarget).text()){return}this.options.pageNumber=+f(k.currentTarget).text();this.updatePagination(k)};c.prototype.initBody=function(p){var r=this,q=[],n=this.getData();this.trigger("pre-body",n);this.$body=this.$el.find("tbody");if(!this.$body.length){this.$body=f("<tbody></tbody>").appendTo(this.$el)}if(this.options.sidePagination==="server"){n=this.data}if(!this.options.pagination||this.options.sidePagination==="server"){this.pageFrom=1;this.pageTo=n.length}for(var o=this.pageFrom-1;o<this.pageTo;o++){var u=n[o],k={},l=[],m={},s=[];k=j(this.options,this.options.rowStyle,[u,o],k);if(k&&k.css){for(var t in k.css){l.push(t+": "+k.css[t])}}m=j(this.options,this.options.rowAttributes,[u,o],m);if(m){for(var t in m){s.push(g('%s="%s"',t,i(m[t])))}}q.push("<tr",g(" %s",s.join(" ")),g(' id="%s"',f.isArray(u)?undefined:u._id),g(' class="%s"',k.classes||(f.isArray(u)?undefined:u._class)),g(' data-index="%s"',o),">");if(this.options.cardView){q.push(g('<td colspan="%s">',this.header.fields.length))}f.each(this.header.fields,function(x,A){var D="",B=u[A],z="",v={},E="",y=r.header.classes[x],w=r.options.columns[e(r.options.columns,A)];k=g('style="%s"',l.concat(r.header.styles[x]).join("; "));B=j(r.header,r.header.formatters[x],[B,u,o],B);if(u["_"+A+"_id"]){E=g(' id="%s"',u["_"+A+"_id"])}if(u["_"+A+"_class"]){y=g(' class="%s"',u["_"+A+"_class"])}v=j(r.header,r.header.cellStyles[x],[B,u,o],v);if(v.classes){y=g(' class="%s"',v.classes)}if(v.css){l=[];for(var C in v.css){l.push(C+": "+v.css[C])}k=g('style="%s"',l.concat(r.header.styles[x]).join("; "))}if(w.checkbox||w.radio){if(r.options.cardView){return true}z=w.checkbox?"checkbox":z;z=w.radio?"radio":z;D=['<td class="bs-checkbox">',"<input"+g(' data-index="%s"',o)+g(' name="%s"',r.options.selectItemName)+g(' type="%s"',z)+g(' value="%s"',u[r.options.idField])+g(' checked="%s"',B===true||(B&&B.checked)?"checked":undefined)+g(' disabled="%s"',!w.checkboxEnabled||(B&&B.disabled)?"disabled":undefined)+" />","</td>"].join("")}else{B=typeof B==="undefined"||B===null?r.options.undefinedText:B;D=r.options.cardView?['<div class="card-view">',r.options.showHeader?g('<span class="title" %s>%s</span>',k,b(r.options.columns,"field","title",A)):"",g('<span class="value">%s</span>',B),"</div>"].join(""):[g("<td%s %s %s>",E,y,k),B,"</td>"].join("");if(r.options.cardView&&r.options.smartDisplay&&B===""){D=""}}q.push(D)});if(this.options.cardView){q.push("</td>")}q.push("</tr>")}if(!q.length){q.push('<tr class="no-records-found">',g('<td colspan="%s">%s</td>',this.header.fields.length,this.options.formatNoMatches()),"</tr>")}this.$body.html(q.join(""));if(!p){this.scrollTo(0)}this.$body.find("> tr > td").off("click").on("click",function(){var v=f(this).parent();r.trigger("click-row",r.data[v.data("index")],v);if(r.options.clickToSelect){if(r.header.clickToSelects[v.children().index(f(this))]){v.find(g('[name="%s"]',r.options.selectItemName))[0].click()}}});this.$body.find("tr").off("dblclick").on("dblclick",function(){r.trigger("dbl-click-row",r.data[f(this).data("index")],f(this))});this.$selectItem=this.$body.find(g('[name="%s"]',this.options.selectItemName));this.$selectItem.off("click").on("click",function(w){w.stopImmediatePropagation();var v=f(this).prop("checked"),x=r.data[f(this).data("index")];x[r.header.stateField]=v;r.trigger(v?"check":"uncheck",x);if(r.options.singleSelect){r.$selectItem.not(this).each(function(){r.data[f(this).data("index")][r.header.stateField]=false});r.$selectItem.filter(":checked").not(this).prop("checked",false)}r.updateSelected()});f.each(this.header.events,function(x,w){if(!w){return}if(typeof w==="string"){w=j(null,w)}for(var v in w){r.$body.find("tr").each(function(){var C=f(this),D=C.find(r.options.cardView?".card-view":"td").eq(x),z=v.indexOf(" "),y=v.substring(0,z),A=v.substring(z+1),B=w[v];D.find(A).off(y).on(y,function(G){var E=C.data("index"),H=r.data[E],F=H[r.header.fields[x]];B.apply(this,[G,F,H,E])})})}});this.updateSelected();this.resetView();this.trigger("post-body")};c.prototype.initServer=function(l){var m=this,n={},o={pageSize:this.options.pageSize,pageNumber:this.options.pageNumber,searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(!this.options.url){return}if(this.options.queryParamsType==="limit"){o={limit:o.pageSize,offset:o.pageSize*(o.pageNumber-1),search:o.searchText,sort:o.sortName,order:o.sortOrder}}n=j(this.options,this.options.queryParams,[o],n);var k=j(this.options,this.options.pageExtra,[n],n);if(k!=false){n=f.extend(n,k)}if(n===false){return}if(!l){this.$loading.show()}f.ajax({type:this.options.method,url:this.options.url,data:n,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(p){p=j(m.options,m.options.responseHandler,[p],p);var q=p;if(m.options.sidePagination==="server"){m.options.totalRows=d(p,m.options.pageRowCount,0);q=d(p,m.options.pageItems,[])}m.load(q);m.trigger("load-success",q)},error:function(p){m.trigger("load-error",p.status)},complete:function(){if(!l){m.$loading.hide()}}})};c.prototype.getCaretHtml=function(){return['<span class="order'+(this.options.sortOrder==="desc"?"":" dropup")+'">','<span class="caret" style="margin: 10px 5px;"></span>',"</span>"].join("")};c.prototype.updateSelected=function(){var k=this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",k);this.$selectItem.each(function(){f(this).parents("tr")[f(this).prop("checked")?"addClass":"removeClass"]("selected")})};c.prototype.updateRows=function(l){var k=this;this.$selectItem.each(function(){k.data[f(this).data("index")][k.header.stateField]=l})};c.prototype.resetRows=function(){var k=this;f.each(this.data,function(l,m){k.$selectAll.prop("checked",false);k.$selectItem.prop("checked",false);m[k.header.stateField]=false})};c.prototype.trigger=function(l){var k=Array.prototype.slice.call(arguments,1);l+=".bs.table";this.options[c.EVENTS[l]].apply(this.options,k);this.$el.trigger(f.Event(l),k);this.options.onAll(l,k);this.$el.trigger(f.Event("all.bs.table"),[l,k])};c.prototype.resetHeader=function(){var l=this,m=this.$container.find(".fixed-table-header"),n=this.$container.find(".fixed-table-body"),k=this.$el.width()>n.width()?a():0;if(this.$el.is(":hidden")){clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(f.proxy(this.resetHeader,this),100);return}this.$header_=this.$header.clone(true,true);this.$selectAll_=this.$header_.find('[name="btSelectAll"]');setTimeout(function(){m.css({height:"37px","border-bottom":"1px solid #dddddd","margin-right":k}).find("table").css("width",l.$el.css("width")).html("").attr("class",l.$el.attr("class")).append(l.$header_);l.$header.find("th").each(function(o){l.$header_.find("th").eq(o).data(f(this).data())});l.$body.find("tr:first-child:not(.no-records-found) > *").each(function(o){l.$header_.find("div.fht-cell").eq(o).width(f(this).innerWidth())});l.$el.css("margin-top",-l.$header.height());n.off("scroll").on("scroll",function(){m.scrollLeft(f(this).scrollLeft())})})};c.prototype.toggleColumn=function(k,l,n){if(k===-1){return}this.options.columns[k].visible=l;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var m=this.$toolbar.find(".keep-open input").prop("disabled",false);if(n){m.filter(g('[value="%s"]',k)).prop("checked",l)}if(m.filter(":checked").length<=this.options.minimumCountColumns){m.filter(":checked").prop("disabled",true)}}};c.prototype.resetView=function(n){var l=this,p=this.header;if(n&&n.height){this.options.height=n.height}this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.height){var m=+this.$toolbar.children().outerHeight(true),o=+this.$pagination.children().outerHeight(true),k=this.options.height-m-o;this.$container.find(".fixed-table-container").css("height",k+"px")}if(this.options.cardView){l.$el.css("margin-top","0");l.$container.find(".fixed-table-container").css("padding-bottom","0");return}if(this.options.showHeader&&this.options.height){this.resetHeader()}if(this.options.height&&this.options.showHeader){this.$container.find(".fixed-table-container").css("padding-bottom","37px")}};c.prototype.getData=function(){return(this.searchText||!f.isEmptyObject(this.filterColumns))?this.data:this.options.data};c.prototype.load=function(k){this.initData(k);this.initSearch();this.initPagination();this.initBody()};c.prototype.append=function(k){this.initData(k,true);this.initSearch();this.initPagination();this.initBody(true)};c.prototype.remove=function(n){var k=this.options.data.length,l,m;if(!n.hasOwnProperty("field")||!n.hasOwnProperty("values")){return}for(l=k-1;l>=0;l--){m=this.options.data[l];if(!m.hasOwnProperty(n.field)){return}if(f.inArray(m[n.field],n.values)!==-1){this.options.data.splice(l,1)}}if(k===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(true)};c.prototype.updateRow=function(k){if(!k.hasOwnProperty("index")||!k.hasOwnProperty("row")){return}f.extend(this.data[k.index],k.row);this.initBody(true)};c.prototype.mergeCells=function(s){var r=s.index,m=f.inArray(s.field,this.header.fields),n=s.rowspan||1,l=s.colspan||1,p,o,q=this.$body.find("tr"),k=q.eq(r).find("td").eq(m);if(r<0||m<0||r>=this.data.length){return}for(p=r;p<r+n;p++){for(o=m;o<m+l;o++){q.eq(p).find("td").eq(o).hide()}}k.attr("rowspan",n).attr("colspan",l).show()};c.prototype.getSelections=function(){var k=this;return f.grep(this.data,function(l){return l[k.header.stateField]})};c.prototype.checkAll=function(){this.checkAll_(true)};c.prototype.uncheckAll=function(){this.checkAll_(false)};c.prototype.checkAll_=function(k){this.$selectItem.filter(":enabled").prop("checked",k);this.updateRows(k);this.updateSelected();this.trigger(k?"check-all":"uncheck-all")};c.prototype.check=function(k){this.check_(true,k)};c.prototype.uncheck=function(k){this.check_(false,k)};c.prototype.check_=function(l,k){this.$selectItem.filter(g('[data-index="%s"]',k)).prop("checked",l);this.data[k][this.header.stateField]=l;this.updateSelected()};c.prototype.destroy=function(){this.$el.insertBefore(this.$container);f(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).attr("class",this.$el_.attr("class")||"")};c.prototype.showLoading=function(){this.$loading.show()};c.prototype.hideLoading=function(){this.$loading.hide()};c.prototype.refresh=function(k){if(k&&k.url){this.options.url=k.url;this.options.pageNumber=1}this.initServer(k&&k.silent)};c.prototype.showColumn=function(k){this.toggleColumn(e(this.options.columns,k),true,true)};c.prototype.hideColumn=function(k){this.toggleColumn(e(this.options.columns,k),false,true)};c.prototype.filterBy=function(k){this.filterColumns=f.isEmptyObject(k)?{}:k;this.options.pageNumber=1;this.initSearch();this.updatePagination()};c.prototype.scrollTo=function(l){var k=this.$container.find(".fixed-table-body");if(typeof l==="string"){l=l==="bottom"?k[0].scrollHeight:0}if(typeof l==="number"){k.scrollTop(l)}};c.prototype.prevPage=function(){this.options.pageNumber>1?this.options.pageNumber--:null;this.updatePagination()};c.prototype.nextPage=function(){this.options.pageNumber<this.options.pageSize?this.options.pageNumber++:null;this.updatePagination()};var h=["getSelections","getData","load","append","remove","updateRow","mergeCells","checkAll","uncheckAll","check","uncheck","refresh","resetView","destroy","showLoading","hideLoading","showColumn","hideColumn","filterBy","scrollTo","prevPage","nextPage"];f.fn.bootstrapTable=function(k,m){var l;this.each(function(){var p=f(this),o=p.data("bootstrap.table"),n=f.extend({},c.DEFAULTS,p.data(),typeof k==="object"&&k);if(typeof k==="string"){if(f.inArray(k,h)<0){throw"Unknown method: "+k}if(!o){return}l=o[k](m);if(k==="destroy"){p.removeData("bootstrap.table")}}if(!o){p.data("bootstrap.table",(o=new c(this,n)))}});return typeof l==="undefined"?this:l};f.fn.bootstrapTable.Constructor=c;f.fn.bootstrapTable.defaults=c.DEFAULTS;f.fn.bootstrapTable.columnDefaults=c.COLUMN_DEFAULTS;f.fn.bootstrapTable.locales=c.LOCALES;f.fn.bootstrapTable.methods=h;f(function(){f('[data-toggle="table"]').bootstrapTable()})}(jQuery);